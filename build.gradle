apply plugin: 'java'
apply plugin: 'maven-publish'

group 'com.hangyin.smart'
version '0.0.2'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

task sourceJar(type: Jar) {
    from sourceSets.main.allJava
    classifier "sources"
}

publishing {
    publications{
        library(MavenPublication){
            from components.java
            artifact sourceJar
        }
    }

    repositories{
        mavenLocal()
        maven{
            def localMavenRepo = 'file://' + new File(System.getProperty('user.home'), '.m2/repository').absolutePath
            url localMavenRepo
        }
    }
}